<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.web.WebView?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.example.forevernote.ui.controller.MainController"
            styleClass="root-container">
    
    <!-- Top Menu Bar -->
    <top>
        <VBox styleClass="top-container">
            <MenuBar fx:id="menuBar" styleClass="menu-bar">
                <Menu text="File">
                    <MenuItem text="New Note" onAction="#handleNewNote" accelerator="Shortcut+N"/>
                    <MenuItem text="New Folder" onAction="#handleNewFolder" accelerator="Shortcut+Shift+N"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Save" onAction="#handleSave" accelerator="Shortcut+S"/>
                    <MenuItem text="Save All" onAction="#handleSaveAll" accelerator="Shortcut+Shift+S"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Import..." onAction="#handleImport" accelerator="Shortcut+I"/>
                    <MenuItem text="Export..." onAction="#handleExport" accelerator="Shortcut+E"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Exit" onAction="#handleExit" accelerator="Shortcut+Q"/>
                </Menu>
                
                <Menu text="Edit">
                    <MenuItem text="Undo" onAction="#handleUndo" accelerator="Shortcut+Z"/>
                    <MenuItem text="Redo" onAction="#handleRedo" accelerator="Shortcut+Y"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Cut" onAction="#handleCut" accelerator="Shortcut+X"/>
                    <MenuItem text="Copy" onAction="#handleCopy" accelerator="Shortcut+C"/>
                    <MenuItem text="Paste" onAction="#handlePaste" accelerator="Shortcut+V"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Find..." onAction="#handleFind" accelerator="Shortcut+F"/>
                    <MenuItem text="Replace..." onAction="#handleReplace" accelerator="Shortcut+H"/>
                </Menu>
                
                <Menu text="View">
                    <MenuItem text="Toggle Sidebar" onAction="#handleToggleSidebar" accelerator="F9"/>
                    <MenuItem text="Toggle Notes Panel" onAction="#handleToggleNotesPanel" accelerator="F8"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Zoom In" onAction="#handleZoomIn" accelerator="Shortcut+Plus"/>
                    <MenuItem text="Zoom Out" onAction="#handleZoomOut" accelerator="Shortcut+Minus"/>
                    <MenuItem text="Reset Zoom" onAction="#handleResetZoom" accelerator="Shortcut+0"/>
                    <SeparatorMenuItem/>
                    <Menu text="Theme">
                        <RadioMenuItem fx:id="lightThemeMenuItem" text="Light" selected="true" onAction="#handleLightTheme"/>
                        <RadioMenuItem fx:id="darkThemeMenuItem" text="Dark" onAction="#handleDarkTheme"/>
                        <RadioMenuItem fx:id="systemThemeMenuItem" text="System" onAction="#handleSystemTheme"/>
                    </Menu>
                </Menu>
                
                <Menu text="Tools">
                    <MenuItem text="Command Palette..." onAction="#handleCommandPalette" accelerator="Shortcut+P"/>
                    <MenuItem text="Quick Switcher..." onAction="#handleQuickSwitcher" accelerator="Shortcut+O"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="Global Search" onAction="#handleSearch" accelerator="Shortcut+Shift+F"/>
                    <MenuItem text="Tags Manager..." onAction="#handleTagsManager"/>
                    <SeparatorMenuItem/>
                    <Menu fx:id="pluginsMenu" text="Plugins">
                        <MenuItem text="Manage Plugins..." onAction="#handlePluginManager"/>
                        <SeparatorMenuItem/>
                        <!-- Plugin menu items are added dynamically by plugins -->
                    </Menu>
                    <SeparatorMenuItem/>
                    <MenuItem text="Preferences..." onAction="#handlePreferences"/>
                </Menu>
                
                <Menu text="Help">
                    <MenuItem text="Documentation" onAction="#handleDocumentation"/>
                    <MenuItem text="Keyboard Shortcuts" onAction="#handleKeyboardShortcuts" accelerator="F1"/>
                    <SeparatorMenuItem/>
                    <MenuItem text="About Forevernote" onAction="#handleAbout"/>
                </Menu>
            </MenuBar>
            
            <!-- Toolbar -->
            <HBox styleClass="toolbar" spacing="8" alignment="CENTER_LEFT">
                <padding>
                    <Insets top="8" right="16" bottom="8" left="16"/>
                </padding>
                
                <!-- Layout Toggles -->
                <ToggleButton fx:id="sidebarToggleBtn" onAction="#handleToggleSidebar" styleClass="modern-toggle-btn">
                   <tooltip><Tooltip text="Toggle Sidebar (F9)"/></tooltip>
                   <graphic>
                       <FontIcon iconLiteral="fth-sidebar" iconSize="18" iconColor="#555555" styleClass="feather-icon"/>
                   </graphic>
                </ToggleButton>
                <ToggleButton fx:id="notesPanelToggleBtn" onAction="#handleToggleNotesPanel" styleClass="modern-toggle-btn">
                   <tooltip><Tooltip text="Toggle Notes List (F8)"/></tooltip>
                    <graphic>
                       <FontIcon iconLiteral="fth-list" iconSize="18" iconColor="#555555" styleClass="feather-icon"/>
                   </graphic>
                </ToggleButton>
                <Button fx:id="layoutSwitchBtn" onAction="#handleViewLayoutSwitch" styleClass="toolbar-btn">
                   <tooltip><Tooltip text="Switch Layout Columns"/></tooltip>
                    <graphic>
                       <FontIcon iconLiteral="fth-columns" iconSize="18" iconColor="#555555" styleClass="feather-icon"/>
                   </graphic>
                </Button>
                
                <Separator orientation="VERTICAL" styleClass="toolbar-separator"/>

                <!-- File Actions -->
                <Button fx:id="newNoteBtn" onAction="#handleNewNote" styleClass="toolbar-btn toolbar-btn-primary">
                    <tooltip><Tooltip text="New Note (Ctrl+N)"/></tooltip>
                    <graphic>
                        <FontIcon iconLiteral="fth-file-plus" iconSize="18" iconColor="#555555" styleClass="feather-icon"/>
                    </graphic>
                </Button>
                <Button fx:id="newFolderBtn" onAction="#handleNewFolder" styleClass="toolbar-btn">
                    <tooltip><Tooltip text="New Folder"/></tooltip>
                    <graphic>
                        <FontIcon iconLiteral="fth-folder-plus" iconSize="18" iconColor="#555555" styleClass="feather-icon"/>
                    </graphic>
                </Button>
                <Button fx:id="newTagBtn" onAction="#handleNewTag" styleClass="toolbar-btn">
                    <tooltip><Tooltip text="New Tag"/></tooltip>
                    <graphic>
                       <FontIcon iconLiteral="fth-hash" iconSize="18" iconColor="#555555" styleClass="feather-icon"/>
                   </graphic>
                </Button>
                
                <Separator orientation="VERTICAL" styleClass="toolbar-separator"/>
                
                <Button fx:id="saveBtn" onAction="#handleSave" styleClass="toolbar-btn">
                    <tooltip><Tooltip text="Save (Ctrl+S)"/></tooltip>
                    <graphic>
                        <FontIcon iconLiteral="fth-save" iconSize="18" iconColor="#555555" styleClass="feather-icon"/>
                    </graphic>
                </Button>
                <Button fx:id="deleteBtn" onAction="#handleDelete" styleClass="toolbar-btn toolbar-btn-danger">
                    <tooltip><Tooltip text="Delete"/></tooltip>
                    <graphic>
                        <FontIcon iconLiteral="fth-trash-2" iconSize="18" iconColor="#c53030" styleClass="feather-icon-danger"/>
                    </graphic>
                </Button>
                <Separator orientation="VERTICAL" styleClass="toolbar-separator"/>
                
                <!-- Search Box -->
                <TextField fx:id="searchField" promptText="Search notes..." prefWidth="240" styleClass="search-field"/>
                
                <Region HBox.hgrow="ALWAYS"/>
                
                <!-- View toggle buttons (List/Grid) -->
                <ToggleButton fx:id="listViewButton" onAction="#handleListView" styleClass="modern-toggle-btn" selected="true">
                    <tooltip><Tooltip text="List view"/></tooltip>
                    <graphic>
                        <FontIcon iconLiteral="fth-align-justify" iconSize="16" iconColor="#555555" styleClass="feather-icon"/>
                    </graphic>
                </ToggleButton>
                <ToggleButton fx:id="gridViewButton" onAction="#handleGridView" styleClass="modern-toggle-btn">
                    <tooltip><Tooltip text="Grid view"/></tooltip>
                    <graphic>
                        <FontIcon iconLiteral="fth-grid" iconSize="16" iconColor="#555555" styleClass="feather-icon"/>
                    </graphic>
                </ToggleButton>
            </HBox>
        </VBox>
    </top>
    
    <!-- Main Content Area -->
    <center>
        <SplitPane fx:id="mainSplitPane" dividerPositions="0.22" styleClass="main-split">
            <!-- Left Sidebar -->
            <VBox fx:id="sidebarPane" styleClass="sidebar" minWidth="200">
                <!-- Navigation Tabs -->
                <TabPane fx:id="navigationTabPane" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS" styleClass="sidebar-tabs">
                    <Tab text="Folders" closable="false">
                        <TreeView fx:id="folderTreeView" showRoot="true" styleClass="sidebar-tree"/>
                    </Tab>
                    
                    <Tab text="Tags" closable="false">
                        <ListView fx:id="tagListView" styleClass="sidebar-list"/>
                    </Tab>
                    
                    <Tab text="Recent" closable="false">
                        <ListView fx:id="recentNotesListView" styleClass="sidebar-list"/>
                    </Tab>
                    
                    <Tab text="Favorites" closable="false">
                        <ListView fx:id="favoritesListView" styleClass="sidebar-list"/>
                    </Tab>
                    
                    <Tab text="Trash" closable="false">
                        <ListView fx:id="trashListView" styleClass="sidebar-list"/>
                    </Tab>
                </TabPane>
                
                <!-- Use Spacer instead of buttons -->
                <Region VBox.vgrow="NEVER" minHeight="10"/>
            </VBox>
            
            <!-- Right Content Area -->
            <SplitPane fx:id="contentSplitPane" dividerPositions="0.25" styleClass="content-split">
                <!-- Notes List Panel -->
                <VBox fx:id="notesPanel" styleClass="notes-panel" minWidth="0" prefWidth="280">
                   <!-- Stacked mode close button (hidden by default) -->
                   <HBox fx:id="stackedModeHeader" managed="false" visible="false" alignment="CENTER_RIGHT" styleClass="stacked-header">
                       <Button onAction="#handleToggleNotesPanel" styleClass="icon-btn-small">
                           <graphic>
                               <FontIcon iconLiteral="fth-x" iconSize="14"/>
                           </graphic>
                       </Button>
                   </HBox>

                    <HBox alignment="CENTER_LEFT" spacing="8" styleClass="notes-header">
                        <padding>
                            <Insets top="12" right="12" bottom="12" left="12"/>
                        </padding>
                        <Label fx:id="notesPanelTitleLabel" text="Notes" styleClass="panel-title"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <ComboBox fx:id="sortComboBox" prefWidth="120" styleClass="sort-combo"/>
                        <Button fx:id="refreshBtn" onAction="#handleRefresh" styleClass="icon-btn">
                            <tooltip><Tooltip text="Refresh list"/></tooltip>
                            <graphic>
                                <FontIcon iconLiteral="fth-refresh-cw" iconSize="16" iconColor="#555555" styleClass="feather-icon"/>
                            </graphic>
                        </Button>
                    </HBox>
                    
                    <ListView fx:id="notesListView" VBox.vgrow="ALWAYS" styleClass="notes-list"/>
                </VBox>
                
                <!-- Editor + Preview Panel -->
                <VBox fx:id="editorContainer" styleClass="editor-container" HBox.hgrow="ALWAYS">
                    <!-- Editor Header -->
                    <HBox alignment="CENTER_LEFT" spacing="8" styleClass="editor-header">
                        <padding>
                            <Insets top="10" right="16" bottom="10" left="16"/>
                        </padding>
                        <TextField fx:id="noteTitleField" promptText="Note title..." HBox.hgrow="ALWAYS" styleClass="title-field"/>
                        <Separator orientation="VERTICAL" styleClass="header-separator"/>
                         
                        <!-- Tags Toggle UI -->
                         <ToggleButton fx:id="toggleTagsBtn" onAction="#handleToggleTags" styleClass="modern-toggle-btn" selected="true">
                            <tooltip><Tooltip text="Toggle Tags Bar"/></tooltip>
                            <graphic>
                                <FontIcon iconLiteral="fth-hash" iconSize="16" iconColor="#555555" styleClass="feather-icon"/>
                            </graphic>
                        </ToggleButton>
                        
                        <Separator orientation="VERTICAL" styleClass="header-separator"/>
                        
                        <!-- View Mode Toggle -->
                        <ToggleButton fx:id="editorOnlyButton" text="Edit" onAction="#handleEditorOnlyMode" styleClass="modern-toggle-btn">
                            <tooltip><Tooltip text="Editor only (Alt+1)"/></tooltip>
                        </ToggleButton>
                        <ToggleButton fx:id="splitViewButton" text="Split" onAction="#handleSplitViewMode" styleClass="modern-toggle-btn">
                            <tooltip><Tooltip text="Split view (Alt+2)"/></tooltip>
                        </ToggleButton>
                        <ToggleButton fx:id="previewOnlyButton" text="Read" onAction="#handlePreviewOnlyMode" styleClass="modern-toggle-btn">
                            <tooltip><Tooltip text="Preview only (Alt+3)"/></tooltip>
                        </ToggleButton>
                        <Separator orientation="VERTICAL" styleClass="header-separator"/>
                        <Button fx:id="favoriteButton" text="*" onAction="#handleToggleFavorite" styleClass="action-btn">
                            <tooltip><Tooltip text="Add to favorites"/></tooltip>
                        </Button>
                        <Button fx:id="infoButton" text="â˜°" onAction="#handleToggleRightPanel" styleClass="action-btn">
                            <tooltip><Tooltip text="Toggle right panel (Ctrl+.)"/></tooltip>
                        </Button>
                        <Button fx:id="deleteNoteBtn" text="x" onAction="#handleDeleteNote" styleClass="action-btn action-btn-danger">
                            <tooltip><Tooltip text="Delete note"/></tooltip>
                        </Button>
                    </HBox>
                    
                    <!-- Tags Bar (Collapsible) -->
                    <VBox fx:id="tagsContainer">
                        <HBox alignment="CENTER_LEFT" spacing="8" styleClass="tags-bar">
                            <padding>
                                <Insets top="6" right="16" bottom="6" left="16"/>
                            </padding>
                            <FlowPane fx:id="tagsFlowPane" hgap="6" vgap="6" styleClass="tags-flow" HBox.hgrow="ALWAYS"/>
                            <Label fx:id="modifiedDateLabel" text="" styleClass="meta-label"/>
                        </HBox>
                    </VBox>
                    
                    <!-- Editor/Preview Split -->
                    <SplitPane fx:id="editorPreviewSplitPane" orientation="HORIZONTAL" dividerPositions="0.5" VBox.vgrow="ALWAYS" styleClass="editor-split">
                        <!-- Editor Pane -->
                        <VBox fx:id="editorPane" styleClass="editor-pane">
                            <TextArea fx:id="noteContentArea" promptText="Start writing in Markdown..." wrapText="true" VBox.vgrow="ALWAYS" styleClass="editor-area"/>
                            
                            <!-- Editor Toolbar (Obsidian-style) - Scrollable for responsiveness -->
                            <HBox styleClass="format-toolbar-container">
                                <ScrollPane hbarPolicy="AS_NEEDED" vbarPolicy="NEVER" fitToHeight="true" styleClass="format-toolbar-scroll" HBox.hgrow="ALWAYS">
                                    <HBox alignment="CENTER_LEFT" spacing="4" styleClass="format-toolbar">
                                        <padding>
                                            <Insets top="6" right="8" bottom="6" left="8"/>
                                        </padding>
                                        <Button fx:id="heading1Btn" text="H1" onAction="#handleHeading1" styleClass="format-btn">
                                            <tooltip><Tooltip text="Heading 1"/></tooltip>
                                        </Button>
                                        <Button fx:id="heading2Btn" text="H2" onAction="#handleHeading2" styleClass="format-btn">
                                            <tooltip><Tooltip text="Heading 2"/></tooltip>
                                        </Button>
                                        <Button fx:id="heading3Btn" text="H3" onAction="#handleHeading3" styleClass="format-btn">
                                            <tooltip><Tooltip text="Heading 3"/></tooltip>
                                        </Button>
                                        <Separator orientation="VERTICAL" styleClass="format-separator"/>
                                        <Button fx:id="boldBtn" text="B" onAction="#handleBold" styleClass="format-btn format-bold">
                                            <tooltip><Tooltip text="Bold (Ctrl+B)"/></tooltip>
                                        </Button>
                                        <Button fx:id="italicBtn" text="I" onAction="#handleItalic" styleClass="format-btn format-italic">
                                             <tooltip><Tooltip text="Italic (Ctrl+I)"/></tooltip>
                                        </Button>
                                        <Button fx:id="strikeBtn" text="S" onAction="#handleUnderline" styleClass="format-btn format-strike">
                                            <tooltip><Tooltip text="Strikethrough"/></tooltip>
                                        </Button>
                                        <Button fx:id="underlineBtn" text="U" onAction="#handleRealUnderline" styleClass="format-btn format-underline">
                                            <tooltip><Tooltip text="Underline"/></tooltip>
                                        </Button>
                                        <Separator orientation="VERTICAL" styleClass="format-separator"/>
                                        <Button fx:id="highlightBtn" text="Hi" onAction="#handleHighlight" styleClass="format-btn">
                                            <tooltip><Tooltip text="Highlight"/></tooltip>
                                        </Button>
                                        <Button fx:id="linkBtn" text="Lk" onAction="#handleLink" styleClass="format-btn">
                                            <tooltip><Tooltip text="Insert link (Ctrl+K)"/></tooltip>
                                        </Button>
                                        <Button fx:id="imageBtn" text="Img" onAction="#handleImage" styleClass="format-btn">
                                            <tooltip><Tooltip text="Insert image"/></tooltip>
                                        </Button>
                                        <Separator orientation="VERTICAL" styleClass="format-separator"/>
                                        <Button fx:id="todoBtn" text="[ ]" onAction="#handleTodoList" styleClass="format-btn">
                                            <tooltip><Tooltip text="Checkbox"/></tooltip>
                                        </Button>
                                        <Button fx:id="bulletBtn" text="-" onAction="#handleBulletList" styleClass="format-btn">
                                            <tooltip><Tooltip text="Bullet list"/></tooltip>
                                        </Button>
                                        <Button fx:id="numberBtn" text="1." onAction="#handleNumberedList" styleClass="format-btn">
                                            <tooltip><Tooltip text="Numbered list"/></tooltip>
                                        </Button>
                                        <Separator orientation="VERTICAL" styleClass="format-separator"/>
                                        <Button fx:id="quoteBtn" text="&gt;" onAction="#handleQuote" styleClass="format-btn">
                                            <tooltip><Tooltip text="Blockquote"/></tooltip>
                                        </Button>
                                        <Button fx:id="codeBtn" text="&lt;/&gt;" onAction="#handleCode" styleClass="format-btn">
                                            <tooltip><Tooltip text="Code block"/></tooltip>
                                        </Button>
                                    </HBox>
                                </ScrollPane>
                                <Label fx:id="wordCountLabel" text="0 words" styleClass="word-count"/>
                            </HBox>
                        </VBox>
                        
                        <!-- Preview Pane -->
                        <VBox fx:id="previewPane" styleClass="preview-pane">
                            <HBox styleClass="preview-header">
                                <padding>
                                    <Insets top="8" right="12" bottom="8" left="12"/>
                                </padding>
                                <Label text="Preview" styleClass="preview-label"/>
                            </HBox>
                            <WebView fx:id="previewWebView" VBox.vgrow="ALWAYS"/>
                        </VBox>
                    </SplitPane>
                </VBox>
            </SplitPane>
        </SplitPane>
    </center>
    
    <!-- Right Panel (multiple collapsible sections) -->
    <right>
        <VBox fx:id="rightPanel" visible="false" managed="false" styleClass="right-panel" minWidth="260" prefWidth="300" maxWidth="340">
            <!-- Panel Header -->
            <HBox alignment="CENTER_LEFT" styleClass="panel-header">
                <padding>
                    <Insets top="12" right="12" bottom="12" left="16"/>
                </padding>
                <Label text="Panel" styleClass="panel-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="closeRightPanelBtn" text="Ã—" onAction="#handleCloseRightPanel" styleClass="panel-close-btn">
                    <tooltip><Tooltip text="Close panel"/></tooltip>
                </Button>
            </HBox>
            
            <!-- Scrollable Content Area -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS" styleClass="panel-scroll">
                <VBox fx:id="rightPanelContent" spacing="0" styleClass="panel-content">
                    <padding>
                        <Insets top="8" right="12" bottom="16" left="12"/>
                    </padding>
                    
                    <!-- Note Info Section (collapsible) -->
                    <VBox fx:id="noteInfoSection" styleClass="panel-section">
                        <HBox fx:id="noteInfoHeader" alignment="CENTER_LEFT" styleClass="section-header">
                            <Label text="â–¼" fx:id="noteInfoCollapseIcon" styleClass="collapse-icon"/>
                            <Label text="ðŸ“„ Note Info" styleClass="section-title"/>
                        </HBox>
                        <VBox fx:id="noteInfoContent" spacing="12" styleClass="section-content">
                            <padding>
                                <Insets top="8" left="8"/>
                            </padding>
                            <VBox spacing="2">
                                <Label text="CREATED" styleClass="info-label"/>
                                <Label fx:id="infoCreatedLabel" text="-" styleClass="info-value"/>
                            </VBox>
                            <VBox spacing="2">
                                <Label text="MODIFIED" styleClass="info-label"/>
                                <Label fx:id="infoModifiedLabel" text="-" styleClass="info-value"/>
                            </VBox>
                            <HBox spacing="24">
                                <VBox spacing="2">
                                    <Label text="Words" styleClass="info-label"/>
                                    <Label fx:id="infoWordsLabel" text="0" styleClass="info-value"/>
                                </VBox>
                                <VBox spacing="2">
                                    <Label text="Chars" styleClass="info-label"/>
                                    <Label fx:id="infoCharsLabel" text="0" styleClass="info-value"/>
                                </VBox>
                            </HBox>
                            <VBox spacing="2">
                                <Label text="LOCATION" styleClass="info-label"/>
                                <Label fx:id="infoLatitudeLabel" text="Lat: -" styleClass="info-value-small"/>
                                <Label fx:id="infoLongitudeLabel" text="Lon: -" styleClass="info-value-small"/>
                            </VBox>
                            <VBox spacing="2">
                                <Label text="METADATA" styleClass="info-label"/>
                                <Label fx:id="infoAuthorLabel" text="Author: -" styleClass="info-value-small"/>
                                <Label fx:id="infoSourceUrlLabel" text="URL: -" styleClass="info-value-small" wrapText="true"/>
                            </VBox>
                        </VBox>
                    </VBox>
                    
                    <!-- Plugin Panels Container (dynamic) -->
                    <VBox fx:id="pluginPanelsContainer" spacing="0">
                        <!-- Plugin panels are added dynamically here -->
                    </VBox>
                </VBox>
            </ScrollPane>
        </VBox>
    </right>
    
    <!-- Bottom Status Bar -->
    <bottom>
        <HBox fx:id="statusBar" alignment="CENTER_LEFT" spacing="20" styleClass="status-bar">
            <padding>
                <Insets top="8" right="20" bottom="8" left="20"/>
            </padding>
            <Label fx:id="statusLabel" text="Ready" styleClass="status-text"/>
            <Region HBox.hgrow="ALWAYS"/>
            <!-- Plugin status bar items container -->
            <HBox fx:id="pluginStatusBarContainer" spacing="12" alignment="CENTER_LEFT"/>
            <Label fx:id="noteCountLabel" text="0 notes" styleClass="status-text"/>
            <Separator orientation="VERTICAL" styleClass="status-separator"/>
            <Label fx:id="syncStatusLabel" text="Local" styleClass="status-text"/>
        </HBox>
    </bottom>
</BorderPane>
